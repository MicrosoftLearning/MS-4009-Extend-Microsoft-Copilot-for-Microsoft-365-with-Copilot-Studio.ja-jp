# 演習: プロンプト プラグインの作成

この演習では、次のことを学習します。

- 良いプロンプトの書き方
- Copilot Studio でプロンプトを作成する方法
- プロンプト ビルダーでプロンプトをテストする方法
- Microsoft 365 Copilot でのプロンプト アクションの使用方法

## 良いプロンプトの書き方

このモジュールの前半で、プロンプト エンジニアリングの基本を既に学習しました。 プロンプト エンジニアリングの詳細については、AI Builder チームのプロンプト エンジニアリング ガイドをご覧ください。 プロンプト エンジニアリング ガイドは[こちら](https://aka.ms/learn-ai-builder-prompting-guide)にあります。

## 適切なプロンプトの要素

AI Builder チームのプロンプト エンジニアリング ガイドには、プロンプトの一部となる優れた要素セットがあります。

ご覧のように、次の要素があります。

- **タスク**: Generative Pre-trained Transformer (GPT) モデルに実行するタスクを伝える**指示**
- **コンテキスト**: 操作の対象となる**データ**および入力**変数**について説明します
- **期待される回答**: 応答について GPT に**ゴール**と**期待される回答**を伝えます
- **出力**: GPT で**出力**を思い通りに書式設定できるように支援します

![AI Builder プロンプト エンジニアリング ガイドのプロンプト成分ページのスクリーンショット。 タスク、コンテキスト、期待される回答、出力は、プロンプトの成分として強調表示されます。](../Media/4-prompt-engineering-guide.png)

## タスク 1: プロンプトの設計

このタスクでは、キャリア マイルストーンに基づいてプロフェッショナルな開発計画を作成するのに役立つプロンプトを設計します。

> [!IMPORTANT]
> プロンプトを作成するときに、最初から始める必要はありません。 良いプロンプトの書き方を知ることはとても有益ですが、既に途中まで完成したものから始めることも役立ちます。
> [Microsoft の導入サンプル ソリューション ギャラリー](https://aka.ms/power-prompts)には、プロンプト サンプルが既に用意されています。 この演習では、[プロフェッショナルな開発計画プロンプト サンプル](https://adoption.microsoft.com/sample-solution-gallery/sample/pnp-powerplatform-prompts-professional-development/)を使用します。

すべてのプロンプトの材料を追加してみましょう。

- **タスク**: プロフェッショナルな開発計画を設計します。
- **コンテキスト**: 次のキャリアを達成することを目指している人向けの [マイルストーン] です。
- **期待される回答**: 計画には、目標と目標、リソース、ツール、アクティビティのタイムラインを含める必要があります。
- **出力**: 計画を簡潔で実用的な形式にし、ジュニア レベルの従業員向けに、明確でわかりやすく情報を提示します。

同時に、これは次のプロンプトになります。

*次のキャリア [マイルストーン] を達成することを目指す人のためのプロフェッショナルな開発計画を設計します。計画には、目標と目標、リソース、ツール、アクティビティのタイムラインを含める必要があります。計画を簡潔で実用的な形式にし、ジュニア レベルの従業員に適した明確でわかりやすい方法により、情報を提示します。*

## タスク 2: Copilot Studio でプロンプト アクションを作成する

プロンプトの記述が完了したら、Copilot Studio に入力します。

1. Web ブラウザーで、[Copilot Studio](https://copilotstudio.microsoft.com) に移動し、メッセージが表示されたら、職場または学校アカウントでサインインします。  ウェルカム メッセージをスキップするには **[skip]** を選択します。

    **注:** 初めて Copilot Studio を開くと、最初のコパイロットを作成するためのチャット インターフェイスが表示されることがあります。 この場合は、**[…]** を選択します。 右上のメニュー (**[作成]** ボタンの横) をクリックし、**[コーパイロット作成のキャンセル]**、**[終了]** を順に選択してチャット インターフェイスを終了し、Copilot Studio のホーム ページを表示します。
1. 左のナビゲーションで、**[Library]** を選択します。 ここでは、既存のアクションとコネクタの一覧を表示し、新しいアクションとコネクタを作成できます。
1. 上部にある **[Add an item]** を選択します。  メニューには、Copilot for Microsoft 365 を拡張するための 2 つのオプションが一覧表示されます。
:::image type="content" source="../Media/extend copilot options.png" alt-text="ウィンドウには、Copilot を拡張するための 2 つのオプションが一覧表示されます。コパイロットを作成するか、アクションを作成します。":::
1. **新しいアクション** を選択します。
1. *[New action]* 画面で、**[Prompt]** を選択します。 これにより、AI Builder プロンプト ビルダーが開きます。
1. **[Action details]** ページで、**アクション名**として「プロフェッショナルな開発計画」と入力します。
1. **説明**の入力:「希望するキャリア マイルストーンに基づいて実用的なプロフェッショナル育成計画を作成します」と入力します。
1. [**次へ**] を選択します。
1. **[プロンプト アクションの追加]** ページの **[プロンプト]** セクションに、「次のキャリア [マイルストーン] を達成することを目的としたプロフェッショナルな開発計画を設計する」と入力します。 計画には、目標と目標、リソースとツール、アクティビティのタイムラインを含める必要があります。 計画を簡潔で実用的な形式にし、ジュニア レベルの従業員向けに、明確でわかりやすく情報を提示します。」 **プロンプト**のように入力します。

    > [!NOTE]
    > プロンプトに少なくとも 1 つの動的値が必要であることを示す、情報バーが上部にあることに注意してください

1. 右側のサイドバーの [**Prompt settings]** で、**[Input]** セクションを開きます。
1. **[Add input]** ボタンを選択して入力を追加します。
1. トピックの名前に「`milestones`」と入力します。
1. サンプル データとして、次のテキストを追加します。

      ```text
      * Become medior in 3 years
      * Have 3 top reviews in a row
      * Become a manager in 10 years
      ```

1. [prompt] セクションで **[マイルストーン]** をカーソルで選択します。
1. **[挿入]** を選択します。
1. **[マイルストーン]** を選択します。

      これにより、**[マイルストーン]** が動的な値に変更されます。

1. 次は、プロンプトをテストします。

## タスク 3: プロンプト ビルダーでプロンプトをテストする

1. [prompt] セクションで、下にある **[Test prompt]** を選択します。 これにより、前に追加したサンプル データでプロンプトがテストされます。

    > [!NOTE]
    > これにより、プロンプトが AI モデルに送信され、[AI 応答] セクションに応答が表示されます。 これにより、LLM がどのように応答するかを確認し、満足のいく結果を得られているかを確認できます。

1. AI 応答に問題がなければ、**[Save custom prompt]** を選択してプロンプトを保存します。

    次のウィンドウでは、プラグインの説明と入力の説明を確認できます。

1. **[アクション パラメーターの選択]** ページで、**マイルストーン**の入力の説明を次に変更します。

      ```text
      The career milestones that the user wants to achieve
      ```

1. [**次へ**] を選択します。

1. [**Publish**] を選択して、アクションをMicrosoft 365 Copilot に発行します。  これには時間がかかることがあります。

## タスク4: Microsoft 365 Copilot でプロンプト プラグインを使用する

プロンプト アクションを作成してテストしたら、次のタスクに進み、Microsoft 365 Copilot でアクセスします。  プラグインが Microsoft 365 Copilot に表示されるまでに 5 分以上かかる場合があります。

1. [Microsoft Teams](https://teams.microsoft.com) を開きます。
1. 左のナビゲーションで、**[Copilot]** ボタンを選択します。
1. 画面の下部にある **Manage Copilot response** アイコン (Copilot にメッセージを送信できる場所の横) を選択します。
1. 表示されたポップアップ メニューで **[Copilot Studio]** を探し、切り替えて有効にできるかどうかを確認します。  
1. **キャレット アイコン**を選択して、Copilot Studio の下にあるアクションの一覧を展開します。

    > [!NOTE]
    > Copilot Studio が表示されない可能性があります。 これには、管理者が Copilot Studio 統合アプリをデプロイしていないか、プラグインのインデックスがまだ作成されていないかの 2 つの理由があります。つまり、もう少し待つ必要があります。

2. Copilot Studio セクションの下にあるアクションの一覧で **Professional Development Plan** という名前のアクションを探し、その横にあるトグルを選択して有効にします。

    > [!NOTE]
    > Copilot Studio のプラグインの一覧に Professional Development Plan が表示されない場合は、表示されるまでに少し時間がかかっている場合があります。 Microsoft 365 Copilot に表示されるまでに少し時間がかかる場合があります。

3. プロフェッショナル開発計画アクションを有効にした後、Copilot で使用できるようになりました。 Teams の Copilot に次のメッセージを送信して**試してみます**。"1 - マーケターとしての仕事を改善し、2 - 上級マーケターの役割に昇格するより良い機会を得るために、次のキャリア マイルストーンを達成するためのプロフェッショナル開発計画を生成したいと思います。"

**ヒント:** Copilot で開発者モードを有効にするには、チャットに「`-developer on`」と入力します。  これにより、Copilot がプラグインを使用してチャットで応答したタイミングを確認できます。
